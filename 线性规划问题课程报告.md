# 线性规划课程报告

| 姓名     | 学号     | 教学号   |
| -------- | -------- | -------- |
| 严菊逸   | 21160236 | 24161124 |
| 曹里舒葳 | 21160139 | 17160337 |
| 陆子旭   | 21160439 | 51160420 |

## 1.  Problem :

​	现有一新建的商业广场需要招商引进，现在已知有 n 种品牌 s<sub>i</sub> ( i = 1,2,...,N ) 可以选择，现有数额为 M 的初始资金可供使用。据市场调研，计划引入的品牌 s<sub>i</sub> 的平均收益率为 r<sub>i</sub> ，商品滞销损失率为 q<sub>i</sub> ，招商的总体风险可以用几种品牌 s<sub>i</sub> 中最大的一个风险来度量。引入品牌 s<sub>i</sub> 时要付手续费和合同费等，综合费率经计算为 p<sub>i</sub> 。当特定品牌 s<sub>i</sub> 的数额不超过给定值 u<sub>i</sub> 时，综合费率按购买 u<sub>i</sub> 计算。另外，假定银行利率是 r<sub>0</sub> ，既无交易费又无风险（ r<sub>0</sub>  = 5% ）。试求投资方案。

| s<sub>i</sub> | r<sub>i</sub> /% | q<sub>i</sub> /% | p<sub>i</sub> /% | u<sub>i</sub> | 品牌名称 |
| :-----------: | :--------------: | :--------------: | :--------------: | :-----------: | -------- |
| s<sub>1</sub> |        27        |       2.4        |       1.5        |      123      | 优衣库   |
| s<sub>2</sub> |        23        |       1.6        |        2         |      198      | ZARA     |
| s<sub>3</sub> |        25        |       4.5        |       5.5        |      55       | 波司登   |
| s<sub>4</sub> |        24        |       2.6        |        6         |      50       | UR       |

##### **数据来源：天猫2018年双十一交易报告**

## 2.  Assumption :

1. 投资数额 M 足够大，为方便直接设为1；
2. 对任意的i,j，对 ${ s_i}$ 、 ${ s_j}$ 的投资之间是相互独立的，${ s_i}$和${ s_j}$的投资不会互相影响。
3. 在一段时间内， ${ r_i}$, ${ p_i}$, ${ q_i}$, ${ u_i}$ ( i = 1,2,...,N )为变化很小，可以视作稳定不变。

## 3.  Model :

1. 总体风险用所投资的 s<sub>i</sub> 中最大的一个风险来衡量，即 $\max{q_i x_i}$ 。

2. 购买 s<sub>i</sub> 所付交易费是一个分段函数，即 交易费 = $\begin{cases}p_i x_i,xi > u_i\\p_i u_i,xi \leq u_i\end{cases}$

   而题目所给的定值 ${u_i}$ 相对总投资 M 很少， $p_i u_i$ 更小，这样购买 ${ s_i}$ 的净收益可以简化为 $(r_i-p_i)x_i$ 。

3. 线性规划的目标有二：第一，净收益尽可能大，第二，总体风险尽可能小。因此这是一个多目标规划模型。目标函数为 $\begin{cases}\max{\sum_{i=0}^n (r_i-p_i)x_i}\\\min{\max{q_i x_i}}\end{cases}$

4. 模型优化：

   1. **固定风险水平，优化收益**

      在实际投资中，投资者承受风险的程度不一样，若给定风险一个界限a时最大的一个风险率为a，即$\frac{q_i x_i}{M}\leq a$，可找到相应的投资方案。这样把多目标规划变成一个单目标的线性规划。

      $\max{\sum_{i=0}^n(r_i-p_i)x_i}$ ，

      $s.t.\begin{cases}\frac{q_i x_i}{M}\leq a\\\sum_{i=0}^n (1+p_i)x_i=M\\x_i\geq0\end{cases}$

   2. **固定盈利水平，极小化风险**

      在实际投资中，若投资者希望总盈利至少达到水平k以上，在风险最小的情况下寻求相应的投资组合。

      $\min{(\max{q_i x_i})}$ ，

      $s.t.\begin{cases}\sum_{i=0}^n (r_i-p_i)x_i\ge k\\\sum_{i=0}^n (1+p_i)x_i=M\\x_i\geq0\end{cases}$

   3. **带有权值的风险收益模型**

      投资者在权衡资产风险和预期收益两方面时，希望选择一个令自己满意的投资组合。因此对风险，收益分别赋予权重s (0<s≤1) 和 s−1 , s 称为投资偏好系数。则有模型为：

      $\min{(s\cdot\max{q_i x_i})}-(1-s)\sum_{i=0}^n (r_i-p_i)x_i$ ，

       $s.t.\begin{cases}\sum_{i=0}^n (1+p_i)x_i=M\\x_i\geq0\end{cases}$

## 4.  Analysis :

### 1. 固定风险水平，优化收益

有求解公式：
$$
\max{f}=[0.05,0.255,0.21,0.195,0.18]\cdot[x_0,x_1,x_2,x_3,x_4]^T
$$

$$
s.t.
\begin{cases}
x_0+1.015x_1+1.02x_0+1.055x_0+1.06x_0=1\\
0.024x_1\le a\\
0.016x_2\le a\\
0.045x_3\le a\\
0.026x_4\le a\\
x_i\geq0
\end{cases}
$$

Matlab代码如下：

```matlab
clc,clear
a=0;
hold on
while a<0.05
    c=[0.05,0.255,0.21,0.195,0.18];
    A=[zeros(4,1),diag([0.024,0.016,0.045,0.026])];
    b=a*ones(4,1);
    Aeq=[1,1.015,1.02,1.055,1.06];
    beq=1;
    LB=zeros(5,1);
    [x,Q]=linprog(-c,A,b,Aeq,beq,LB);
    Q=-Q;
    plot(a,Q,'*k');
    a = a + 0.001;
end
xlabel('a'),ylabel('Q')
```

### 2. 固定盈利水平，极小化风险

有求解公式：
$$
\min{\max {q_ix_i}}=[0,0.024,0.016,0.045,0.026]\cdot[x_0,x_1,x_2,x_3,x_4]^T
$$

$$
s.t.
\begin{cases}
x_0+1.01x_1+1.02x_0+1.045x_0+1.065x_0=1\\
-0.05x_0\le -k\\
-0.255x_1\le -k\\
-0.21x_2\le -k\\
-0.195x_3\le -k\\
-0.18x_4\le -k\\
x_i\leq0
\end{cases}
$$

Matlab代码如下：

```matlab
clc,clear
k=0;
hold on
while a<0.05
    c=[0,0.024,0.016,0.045,0.026];
    A=diag([-0.05,-0.255,-0.21,-0.195,-0.18]);
    b=a*ones(4,1);
    Aeq=[1,1.015,1.02,1.055,1.06];
    beq=1;
    LB=zeros(5,1);
    %[x,Q]=linprog(-c,A,b,Aeq,beq,LB);
    x = fminimax(fun,x0,A,b,Aeq,beq,lb,ub);
    Q=-Q;
    plot(a,Q,'*k');
    a = a + 0.001;
end
xlabel('a'),ylabel('Q')
```

## 5.  Result :

### 1. 固定风险水平，优化收益

!1546707131253](https://github.com/CloudMagician/Investment-Problem-LP/blob/master/untitled.jpg)

### 2.固定盈利水平，极小化风险





